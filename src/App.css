/* Layout base e tema */
#root { max-width: 1200px; margin: 0 auto; padding: 20px; }
:root { --panel-bg: rgba(255,255,255,0.06); --panel-border: rgba(255,255,255,0.18); --badge-bg: rgba(255,255,255,0.08); --badge-border: rgba(255,255,255,0.18); }
body[data-theme="dark"] { color: #e6eef9; background-color: #0b1220; }
body[data-theme="light"] { color: #0f172a; background-color: #f7fafc; --panel-bg: rgba(15,23,42,0.06); --panel-border: rgba(15,23,42,0.18); --badge-bg: rgba(15,23,42,0.08); --badge-border: rgba(15,23,42,0.18); }
.app { display: grid; gap: 12px; }
.app__header { display: flex; align-items: center; justify-content: space-between; }
.brand { display: flex; align-items: center; gap: 10px; }
.dot { width: 10px; height: 10px; border-radius: 999px; background: radial-gradient(circle at 30% 30%, #7dd3fc, #a78bfa); box-shadow: 0 0 10px rgba(96,165,250,0.6); }
.header-actions { display: flex; gap: 8px; align-items: center; }
.theme-switch { display: inline-flex; gap: 6px; padding: 6px; border-radius: 10px; border: 1px solid var(--panel-border); background: var(--panel-bg); }
.theme-switch button { padding: 6px 10px; border-radius: 8px; border: 1px solid transparent; background: transparent; color: inherit; cursor: pointer; }
.theme-switch button.active { background: rgba(96,165,250,0.12); border-color: rgba(96,165,250,0.35); }
.icon-btn { display: inline-flex; align-items: center; justify-content: center; width: 34px; height: 34px; border-radius: 10px; border: 1px solid var(--panel-border); background: var(--panel-bg); color: inherit; cursor: pointer; }

/* Barra de ações fixa */
.board-actions { position: sticky; top: 8px; z-index: 5; display: flex; align-items: center; gap: 8px; padding: 6px; border-radius: 12px; border: 1px solid var(--panel-border); background: var(--panel-bg); backdrop-filter: blur(10px) saturate(140%); -webkit-backdrop-filter: blur(10px) saturate(140%); }
.modes { display: inline-flex; gap: 8px; padding: 6px; border-radius: 12px; border: 1px solid var(--panel-border); background: var(--panel-bg); }
.modes button { padding: 8px 12px; border-radius: 10px; border: 1px solid transparent; background: transparent; color: inherit; cursor: pointer; }
.modes button.active { background: rgba(96,165,250,0.12); border-color: rgba(96,165,250,0.35); box-shadow: 0 0 0 2px rgba(96,165,250,0.12) inset; }
.toggle { display: inline-flex; gap: 6px; align-items: center; padding: 6px 10px; border-radius: 10px; border: 1px solid var(--panel-border); background: var(--panel-bg); }
.spacer { flex: 1; }

/* Board */
.board { display: grid; grid-auto-flow: column; grid-auto-columns: 320px; gap: 14px; overflow-x: auto; }
.column { display: grid; grid-template-rows: auto 1fr; gap: 8px; padding: 10px; border-radius: 14px; background: var(--panel-bg); border: 1px solid var(--panel-border); min-height: 320px; }
.column__header { display: flex; align-items: center; justify-content: space-between; }
.wip .tag { font-size: 12px; padding: 2px 8px; border-radius: 999px; border: 1px solid var(--badge-border); background: var(--badge-bg); }
.wip.over .tag { background: rgba(239,68,68,0.12); border-color: rgba(239,68,68,0.5); color: #fecaca; }
.column__list { list-style: none; padding: 0; margin: 0; display: grid; gap: 8px; }

/* Cards + aging heatmap */
.card { display: flex; align-items: center; justify-content: space-between; gap: 0.75rem; padding: 0.75rem; border: 1px solid var(--panel-border); border-radius: 12px; background: var(--panel-bg); }
.card.mine { outline: 2px solid rgba(96,165,250,0.35); }
.card.blocked { background: rgba(239,68,68,0.12); border-color: rgba(239,68,68,0.35); }
.card__body { flex: 1; }
.card__meta { display: inline-flex; align-items: center; gap: 8px; font-size: 12px; opacity: 0.9; }
.badge { font-size: 11px; padding: 2px 6px; border-radius: 999px; border: 1px solid var(--badge-border); background: var(--badge-bg); }
.badge.blocked { background: rgba(239,68,68,0.12); border-color: rgba(239,68,68,0.5); color: #fecaca; }
.badge.stale { background: rgba(245,158,11,0.12); border-color: rgba(245,158,11,0.5); color: #fde68a; }
.card.heat-1 { box-shadow: 0 0 0 2px rgba(99,102,241,0.18) inset; }
.card.heat-2 { box-shadow: 0 0 0 2px rgba(245,158,11,0.22) inset; }
.card.heat-3 { box-shadow: 0 0 0 2px rgba(239,68,68,0.28) inset; }
.card__actions { display: flex; align-items: center; gap: 0.25rem; }
.card__action { padding: 0.4rem 0.6rem; background: transparent; border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 8px; }
.card__action.delete { border-color: rgba(255, 99, 99, 0.45); }
.card__footer { margin-top: 6px; display: flex; align-items: center; gap: 8px; justify-content: flex-start; }
.card .age { opacity: 0.85; }
.empty { text-align: center; opacity: 0.7; padding: 1rem 0; }

/* Exec view */
.exec { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }
.tile { padding: 12px; border-radius: 12px; background: var(--panel-bg); border: 1px solid var(--panel-border); }
.tile .label { font-size: 12px; opacity: 0.8; }
.tile .value { font-size: 22px; font-weight: 700; }
.forecast { grid-column: 1 / -1; display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }
.hint { font-size: 12px; opacity: 0.85; margin-top: 6px; }

@media (max-width: 900px) { .exec { grid-template-columns: 1fr; } .forecast { grid-template-columns: 1fr; } }

/* Floating draggable window */
.floating-window { position: fixed; z-index: 60; border-radius: 12px; border: 1px solid var(--panel-border); background: var(--panel-bg); backdrop-filter: blur(10px) saturate(140%); -webkit-backdrop-filter: blur(10px) saturate(140%); box-shadow: 0 10px 30px rgba(0,0,0,0.4); min-width: 300px; max-width: 520px; }
.floating-header { display: flex; align-items: center; justify-content: space-between; gap: 8px; padding: 8px 10px; border-bottom: 1px solid var(--panel-border); cursor: move; }
.floating-header .title { font-weight: 600; }
.floating-body { padding: 12px; }
